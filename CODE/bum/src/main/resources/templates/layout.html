<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>

<!-- ============================================================================ -->
<!-- HEADER FRAGMENT                                                              -->
<!-- ============================================================================ -->
<header th:fragment="header">
    <!-- Tháº» h1 vÃ  nav lÃ  con trá»±c tiáº¿p cá»§a header Ä‘á»ƒ flexbox hoáº¡t Ä‘á»™ng -->
    <h1>
        <a th:href="@{/}" style="text-decoration: none; color: inherit;">License Marketplace System</a>
    </h1>
    <nav class="user-menu">
        <!-- Khi Ä‘Ã£ Ä‘Äƒng nháº­p: hiá»ƒn thá»‹ tÃªn ngÆ°á»i dÃ¹ng + menu -->
        <div class="dropdown" th:if="${loggedInUser != null}">
            <button class="user-toggle" aria-haspopup="true" aria-expanded="false">
                <span class="avatar" aria-hidden="true">ğŸ‘¤</span>
                <span class="user-name" th:text="${loggedInUser.fullName}">Há» vÃ  tÃªn</span>
                <span class="chevron" aria-hidden="true">â–¾</span>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" th:href="@{/profile}">Há»“ sÆ¡</a></li>
                <li role="none"><a role="menuitem" th:href="@{/orders}">Lá»‹ch sá»­ mua hÃ ng</a></li>
                <li role="none"><a role="menuitem" th:href="@{/dashboard}">Dashboard</a></li>
                <li class="menu-divider" role="separator"></li>
                <li role="none">
                    <form th:action="@{/logout}" method="post">
                        <button class="logout-btn" type="submit">ÄÄƒng xuáº¥t</button>
                    </form>
                </li>
            </ul>
        </div>

        <!-- Khi chÆ°a Ä‘Äƒng nháº­p: hiá»ƒn thá»‹ ÄÄƒng kÃ½/ÄÄƒng nháº­p -->
        <div class="dropdown" th:if="${loggedInUser == null}">
            <button class="user-toggle" aria-haspopup="true" aria-expanded="false">
                <span class="avatar" aria-hidden="true">ğŸ‘¤</span>
                <span class="user-name">TÃ i khoáº£n</span>
                <span class="chevron" aria-hidden="true">â–¾</span>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" th:href="@{/login}">ÄÄƒng nháº­p</a></li>
                <li role="none"><a role="menuitem" th:href="@{/register}">ÄÄƒng kÃ½</a></li>
            </ul>
        </div>
    </nav>
</header>


<!-- ============================================================================ -->
<!-- FOOTER FRAGMENT                                                              -->
<!-- ============================================================================ -->
<footer th:fragment="footer">
    <p>&copy; 2025 Smile Dev. All rights reserved.</p>
</footer>

</body>
</html>
