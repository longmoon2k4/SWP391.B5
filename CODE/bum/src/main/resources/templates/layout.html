<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>

<!-- ============================================================================ -->
<!-- HEADER FRAGMENT                                                              -->
<!-- ============================================================================ -->
<header th:fragment="header">
    <!-- Th·∫ª h1 v√† nav l√† con tr·ª±c ti·∫øp c·ªßa header ƒë·ªÉ flexbox ho·∫°t ƒë·ªông -->
    <h1>
        <a th:href="@{/}" style="text-decoration: none; color: inherit;">License Marketplace System</a>
    </h1>
    <!-- <nav class="main-menu">
        <a th:href="@{/}">Trang ch·ªß</a>
        <a th:href="@{/products}">S·∫£n ph·∫©m</a>
        <a th:href="@{/about}">Gi·ªõi thi·ªáu</a>
        <a th:href="@{/contact}">Li√™n h·ªá</a>
    </nav> -->
    <nav class="user-menu">
        <!-- Khi ƒë√£ ƒëƒÉng nh·∫≠p: hi·ªÉn th·ªã t√™n ng∆∞·ªùi d√πng + menu -->
        <div class="dropdown" th:if="${loggedInUser != null}">
            <button class="user-toggle" aria-haspopup="true" aria-expanded="false">
                <span class="avatar" aria-hidden="true">üë§</span>
                <span class="user-name" th:text="${loggedInUser.fullName}">H·ªç v√† t√™n</span>
                <span class="chevron" aria-hidden="true">‚ñæ</span>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" th:href="@{/profile}">H·ªì s∆°</a></li>
                <li role="none"><a role="menuitem" th:href="@{/orders}">L·ªãch s·ª≠ mua h√†ng</a></li>
                <li role="none"><a role="menuitem" th:href="@{/dashboard}">Dashboard</a></li>
                <li class="menu-divider" role="separator"></li>
                <li role="none">
                    <form th:action="@{/logout}" method="post">
                        <button class="logout-btn" type="submit">ƒêƒÉng xu·∫•t</button>
                    </form>
                </li>
            </ul>
        </div>

        <!-- Khi ch∆∞a ƒëƒÉng nh·∫≠p: hi·ªÉn th·ªã ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p -->
        <div class="dropdown" th:if="${loggedInUser == null}">
            <button class="user-toggle" aria-haspopup="true" aria-expanded="false">
                <span class="avatar" aria-hidden="true">üë§</span>
                <span class="user-name">T√†i kho·∫£n</span>
                <span class="chevron" aria-hidden="true">‚ñæ</span>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" th:href="@{/login}">ƒêƒÉng nh·∫≠p</a></li>
                <li role="none"><a role="menuitem" th:href="@{/register}">ƒêƒÉng k√Ω</a></li>
            </ul>
        </div>
    </nav>
</header>


<!-- ============================================================================ -->
<!-- FOOTER FRAGMENT                                                              -->
<!-- ============================================================================ -->
<footer th:fragment="footer">
    <p>&copy; 2025 Smile Dev. All rights reserved.</p>
</footer>

</body>
</html>
